{"version":3,"sources":["components/TableRow.js","pages/MainPage.js","hooks/http.hook.js","pages/RegPage.js","context/AuthContext.js","pages/LoginPage.js","components/Navbar.js","App.js","hooks/auth.hook.js","routes.js","reportWebVitals.js","index.js"],"names":["TableRow","className","type","this","props","data","id","username","email","Date","last_login","toLocaleString","registration_date","status","Component","axios","require","MainPage","state","banSelected","bind","unbanSelected","deleteSelected","handleCheckChange","get","response","setState","userId","JSON","parse","localStorage","getItem","checkBoxes","document","getElementsByClassName","selectedIdsArray","i","length","checked","push","adr","getSelectedIds","post","catch","error","includes","makePostRequest","clear","location","reload","event","temp","Array","from","target","onClick","color","onChange","map","item","useHttp","useState","loading","setLoading","setError","request","useCallback","url","a","method","body","headers","stringify","fetch","res","json","ok","Error","message","clearError","RegPage","password","form","setForm","handleChange","name","value","useEffect","handleFormSubmit","window","href","onSubmit","placeholder","required","disabled","noop","AuthContext","createContext","token","login","logout","isAuthenticated","LoginPage","auth","useContext","Navbar","history","useHistory","to","preventDefault","App","setToken","setUserID","jwttoken","setItem","removeItem","useAuth","routes","path","exact","useRoutes","Provider","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.4c77f7ec.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\n\r\nexport class TableRow extends Component {\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<tr>\r\n\t\t\t\t<td className=\"text-center\">\r\n\t\t\t\t\t<input type=\"checkbox\" className=\"js-table-row\"/>\r\n\t\t\t\t</td>\r\n\t\t\t\t<td>{this.props.data.id}</td>\r\n\t\t\t\t<td>{this.props.data.username}</td>\r\n\t\t\t\t<td>{this.props.data.email}</td>\r\n\t\t\t\t<td>{new Date(this.props.data.last_login).toLocaleString()}</td>\r\n\t\t\t\t<td>{new Date(this.props.data.registration_date).toLocaleString()}</td>\r\n\t\t\t\t{this.props.data.status ? <td className=\"table-danger\">Banned</td> : <td className=\"table-success\">Not banned</td>}\r\n\t\t\t</tr>\r\n\t\t);\r\n\t}\r\n}\r\n","import React, { Component } from 'react';\r\nimport * as Icon from 'react-bootstrap-icons';\r\nimport {TableRow} from '../components/TableRow'\r\n\r\nconst axios = require('axios');\r\n\r\nexport class MainPage extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {data: []}\r\n        this.banSelected = this.banSelected.bind(this)\r\n        this.unbanSelected = this.unbanSelected.bind(this)\r\n        this.deleteSelected = this.deleteSelected.bind(this)\r\n        this.handleCheckChange = this.handleCheckChange.bind(this)\r\n    }\r\n\r\n    async componentDidMount() {\r\n        let response = await axios.get('/api/table');\r\n        let data = await response.data;\r\n        this.setState({data: data, userId: JSON.parse(localStorage.getItem('userData')).userId});\r\n    }\r\n\r\n    getSelectedIds() {\r\n        let checkBoxes = document.getElementsByClassName('js-table-row');\r\n        let selectedIdsArray = []\r\n        for (let i = 0; i < checkBoxes.length; i++){\r\n            if (checkBoxes[i].checked) {\r\n                selectedIdsArray.push(this.state.data[i].id)\r\n            }\r\n        }\r\n        return selectedIdsArray;\r\n    }\r\n\r\n    makePostRequest(adr) {\r\n        let selectedIdsArray = this.getSelectedIds()\r\n        axios.post(adr, {\"idArray\":selectedIdsArray, \"userId\":this.state.userId})\r\n        .catch(function (error) {})\r\n        if (selectedIdsArray.includes(this.state.userId)) {\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\n    banSelected() {\r\n        const result = this.makePostRequest('/api/table/ban')\r\n        if (!result) {\r\n            localStorage.clear()\r\n        }\r\n        document.location.reload(false);\r\n\r\n    }\r\n\r\n    unbanSelected() {\r\n        // eslint-disable-next-line\r\n        const result = this.makePostRequest('/api/table/unban')\r\n        document.location.reload(false);\r\n    }\r\n\r\n    deleteSelected() {\r\n        const result = this.makePostRequest('/api/table/delete')\r\n        if (!result) {\r\n            localStorage.clear()\r\n        }\r\n        document.location.reload(false);\r\n    }\r\n\r\n    handleCheckChange(event) {\r\n        let temp = Array.from(document.getElementsByClassName('js-table-row'));\r\n        for (let i = 0; i < temp.length; i++){\r\n            temp[i].checked = event.target.checked;\r\n        }\r\n    }\r\n\r\n    render() {\r\n    return (\r\n            <div className=\"bg-light\">\r\n                <div className=\"my-2 bg-light px-1 py-1\">\r\n                    <button className=\" btn btn-dark mx-1 btn-sm\" onClick={this.banSelected}>\r\n                        <Icon.LockFill color=\"white\" className=\"mx-2\"/>\r\n                    </button>\r\n                    <button className=\" btn btn-dark mx-1 btn-sm\" onClick={this.unbanSelected}>\r\n                         <Icon.UnlockFill color=\"white\" className=\"mx-2\"/>\r\n                     </button>\r\n                    <button className=\" btn btn-danger mx-1 btn-sm\" onClick={this.deleteSelected}>\r\n                        <Icon.TrashFill color=\"white\" className=\"mx-2\"/>\r\n                     </button>\r\n                </div>\r\n                <table className=\"table table-hover table-sm\">\r\n                    <thead>\r\n                        <tr>\r\n                            <th className=\"text-center\">\r\n                                <input type=\"checkbox\" onChange={this.handleCheckChange}/>\r\n                            </th>\r\n                            <th>ID</th>\r\n                            <th>USERNAME</th>\r\n                            <th>EMAIL</th>\r\n                            <th>LAST LOGIN</th>\r\n                            <th>REG DATE</th>\r\n                            <th>STATUS</th>\r\n                        </tr>\r\n                        {this.state.data.map(item => <TableRow data={item} key={item.id}/>)}\r\n                    </thead>\r\n                    <tbody id=\"tableBody\">\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        );\r\n}\r\n}\r\n","import { useState, useCallback } from 'react';\r\n\r\nexport const useHttp = () => {\r\n    const [loading, setLoading] = useState(false);\r\n    const [error, setError] = useState(null);\r\n\r\n    const request = useCallback(async (url, method='GET', body=null, headers={}) => {\r\n        setLoading(true);\r\n        try {\r\n            if (body) {\r\n                body = JSON.stringify(body)\r\n                headers[\"Content-Type\"] = \"application/json\"\r\n            }\r\n            const res = await fetch(url, {method, body, headers})\r\n            const data = await res.json()\r\n            if (!res.ok) { throw new Error(data.message || 'Oops! http.hook.js')};\r\n            setLoading(false);\r\n            return data;\r\n        } catch (e) {\r\n            setLoading(false);\r\n            setError(e.message);\r\n            throw e;\r\n        }\r\n    }, [])\r\n\r\n    const clearError = useCallback(() => setError(null), []);\r\n    return {loading, request, error, clearError};\r\n}\r\n","import React, { useState, useEffect} from 'react';\r\nimport {useHttp} from '../hooks/http.hook'\r\n\r\nexport const RegPage = () => {\r\n    const {loading, request, clearError} = useHttp();\r\n    const [form, setForm] = useState({username: \"\", password: \"\", email: \"\"});\r\n    const handleChange = event => {\r\n        setForm({ ...form, [event.target.name]: event.target.value });\r\n    };\r\n    useEffect( () => {\r\n        clearError()\r\n    });\r\n    const handleFormSubmit = async () => {\r\n        try {\r\n            // eslint-disable-next-line\r\n            const data = await request('/api/auth/register', 'POST', {...form})\r\n            window.location.href = '/login'\r\n        } catch (e) {}\r\n    }\r\n    return (\r\n        <div className=\"position-relative testclass\">\r\n            <div className=\"mx-2 testclass2\">\r\n                <form className=\"text-center card\" onSubmit={handleFormSubmit} >\r\n                    <h1 className=\"h3 mb-3 fw-normal card-header\">SIGN UP</h1>\r\n                    <div className=\"card-body\">\r\n                    <input type=\"text\"\r\n                        name=\"username\"\r\n                        className=\"form-control mb-3\"\r\n                        placeholder=\"Username\"\r\n                        required\r\n                        onChange={handleChange} />\r\n                    <input type=\"email\"\r\n                        name=\"email\"\r\n                        className=\"form-control mb-3\"\r\n                        placeholder=\"Email\"\r\n                        required\r\n                        onChange={handleChange} />\r\n                    <input type=\"password\"\r\n                        name=\"password\"\r\n                        className=\"form-control mb-3\"\r\n                        placeholder=\"Password\"\r\n                        required\r\n                        onChange={handleChange} />\r\n                    <button\r\n                        disabled={loading}\r\n                        className=\"w-100 btn btn-lg btn-success\"\r\n                        type=\"submit\"\r\n                        > Sign up\r\n                    </button>\r\n                    </div>\r\n                    <small className=\"my-1\">\r\n                        <a href=\"/login\" className=\"mx-1\">Sign in</a>\r\n                        if you have an account.\r\n                    </small>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","import { createContext } from 'react'\r\n\r\nfunction noop() {}\r\n\r\nexport const AuthContext = createContext({\r\n    token: null,\r\n    userId: null,\r\n    login: noop,\r\n    logout: noop,\r\n    isAuthenticated: false\r\n});\r\n","import React, { useState, useContext, useEffect} from 'react';\r\nimport {useHttp} from '../hooks/http.hook'\r\nimport { AuthContext} from '../context/AuthContext';\r\n\r\nexport const LoginPage = () => {\r\n    const auth = useContext(AuthContext)\r\n    const {loading, request, clearError} = useHttp();\r\n    const [form, setForm] = useState({username: \"\", password: \"\"});\r\n    const handleChange = event => {\r\n        setForm({ ...form, [event.target.name]: event.target.value });\r\n    };\r\n    useEffect( () => {\r\n        clearError()\r\n    });\r\n    const handleFormSubmit = async () => {\r\n        try {\r\n            const data = await request('/api/auth/login', 'POST', {...form})\r\n            auth.login(data.token, data.userId);\r\n        } catch (e) {}\r\n    }\r\n    return (\r\n        <div className=\"position-relative testclass\">\r\n            <div className=\"mx-2 testclass2\">\r\n                <form className=\"text-center card\"  >\r\n                    <h1 className=\"h3 mb-3 fw-normal card-header\">SIGN IN</h1>\r\n                    <div className=\"card-body\">\r\n                    <input type=\"text\"\r\n                        name=\"username\"\r\n                        className=\"form-control mb-3\"\r\n                        placeholder=\"Username\"\r\n                        required\r\n                        onChange={handleChange} />\r\n                    <input type=\"password\"\r\n                        name=\"password\"\r\n                        className=\"form-control mb-3\"\r\n                        placeholder=\"Password\"\r\n                        required\r\n                        onChange={handleChange} />\r\n                    <button\r\n                        disabled={loading}\r\n                        className=\"w-100 btn btn-lg btn-success\"\r\n                        type=\"submit\"\r\n                        onClick={handleFormSubmit}\r\n                        > Sign up\r\n                    </button>\r\n                    </div>\r\n                    <small className=\"my-1\">\r\n                        <a href=\"/reg\" className=\"mx-1\">Sign Up</a>\r\n                        if you don't have an account.\r\n                    </small>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","import React, {useContext} from 'react';\r\nimport {NavLink, useHistory} from 'react-router-dom';\r\nimport { AuthContext} from '../context/AuthContext';\r\n\r\nexport const Navbar = () => {\r\n    const auth = useContext(AuthContext)\r\n    const history = useHistory()\r\n    const handleLogout = event => {\r\n        event.preventDefault()\r\n        auth.logout()\r\n        history.push('/')\r\n    }\r\n    return (\r\n        <nav className=\"navbar navbar-dark bg-dark d-flex jd-flex justify-content-between\">\r\n            <ul className=\"nav\">\r\n                <li className=\"nav-item\">\r\n                    <NavLink to=\"/main\" className=\"nav-link active link-light\"> [ t a b l e] </NavLink>\r\n                </li>\r\n            </ul>\r\n            <ul className=\"nav\">\r\n                <li className=\"nav-item\">\r\n                    <a className=\"nav-link active link-danger\" href=\"/\" onClick={handleLogout}> LOGOUT</a>\r\n                </li>\r\n            </ul>\r\n        </nav>\r\n    )\r\n}\r\n","import React from 'react';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './index.css';\nimport { useRoutes } from './routes';\nimport { BrowserRouter as Router} from 'react-router-dom';\nimport { useAuth } from './hooks/auth.hook'\nimport { AuthContext} from './context/AuthContext';\nimport {Navbar} from './components/Navbar'\n\nfunction App() {\n    const {token, login, logout, userId} = useAuth();\n    const isAuthenticated = !!token\n    const routes = useRoutes(isAuthenticated);\n    return (\n        <AuthContext.Provider value={{ token, login, logout, userId, isAuthenticated}}>\n        <Router>\n            { isAuthenticated && <Navbar/>}\n            <div className=\"container\">\n                {routes}\n            </div>\n        </Router>\n    </AuthContext.Provider>\n    );\n}\n\nexport default App;\n","import {useState, useCallback, useEffect} from 'react'\r\n\r\nexport const useAuth = () => {\r\n    const [token, setToken] = useState(null);\r\n    const [userId, setUserID] = useState(null);\r\n\r\n    const login = useCallback( (jwttoken, id) => {\r\n        setToken(jwttoken)\r\n        setUserID(id)\r\n        localStorage.setItem('userData', JSON.stringify({userId: id, token: jwttoken}))\r\n    }, []);\r\n\r\n    const logout = useCallback( () => {\r\n        setToken(null)\r\n        setUserID(null)\r\n        localStorage.removeItem('userData')\r\n    }, []);\r\n\r\n    useEffect( () => {\r\n        const data = JSON.parse(localStorage.getItem('userData'))\r\n        if (data && data.token) {\r\n            login(data.token, data.userId)\r\n        }\r\n    }, [login])\r\n\r\n    return {login, logout, token, userId}\r\n}\r\n","import React from 'react';\r\nimport {Switch, Route, Redirect} from 'react-router-dom';\r\n\r\nimport {MainPage} from './pages/MainPage';\r\nimport {RegPage} from './pages/RegPage';\r\nimport {LoginPage} from './pages/LoginPage';\r\n\r\nexport const useRoutes = isAuthenticated => {\r\n    if (isAuthenticated) {\r\n        return (\r\n            <Switch>\r\n                <Route path=\"/main\" exact> <MainPage /> </Route>\r\n                <Redirect to=\"/main\"/>\r\n            </Switch>\r\n        );\r\n    }\r\n    return (\r\n        <Switch>\r\n            <Route path=\"/login\" exact> <LoginPage /> </Route>\r\n            <Route path=\"/reg\" exact> <RegPage /> </Route>\r\n            <Redirect to=\"/login\"/>\r\n        </Switch>\r\n    );\r\n}\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}